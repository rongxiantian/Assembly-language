DATA SEGMENT
BUF DW 0;用来存每次生成的数
DATA ENDS
STACK SEGMENT STACK
DB 100 DUP(?)
STACK ENDS
CODE SEGMENT
	ASSUME CS:CODE,DS:DATA,SS:STACK
START:MOV AX,DATA
      MOV DS,AX
      MOV AX,STACK
      MOV SS,AX
XOR BX,BX
;-----------循环输入字符------------
MOV CX,4
INPUT: 
PUSH CX
MOV AH,1
INT 21H            ;----------存到AL中
XOR AH,AH
CMP AL,39H
JA WOR
SUB AL,30H       ;--------输入字符为数字
MOV BX,BUF
MOV CL,4
SHL BX,CL

;SHL BX,1
;SHL BX,1
;SHL BX,1
;SHL BX,1

ADD BX,AX
MOV BUF,BX
JMP SSS
WOR:            -----输入字符为大写字母
CMP AL,45H
JA SMWOR
SUB AL,37H
MOV BX,BUF
MOV CL,4
SHL BX,CL

;SHL BX,1
;SHL BX,1
;SHL BX,1
;SHL BX,1

ADD BX,AX
MOV BUF,BX
JMP SSS
SMWOR:
SUB AL,57H
MOV BX,BUF
MOV CL,4
SHL BX,CL

;SHL BX,1
;SHL BX,1
;SHL BX,1
;SHL BX,1

ADD BX,AX
MOV BUF,BX
SSS:
POP CX
LOOP INPUT


;------------循环输出---------------
MOV CX,16
MOV BX,BUF
OUTPUT:
SHL BX,1
JC OUT1       ;CF=1转移

OUT0:
MOV DL,30H
MOV AH,2
INT 21H
JMP CCC

OUT1:
MOV DL,31H
MOV AH,2
INT 21H

CCC:

LOOP OUTPUT


MOV AH,4CH
INT 21H
CODE ENDS
END START