DATA SEGMENT
ZHU8 DB 35H
ZHU16 DW 0AB39H
ASCBUF DB 32 DUP(30H)
ADR_TAB DW 3 DUP(0)
DATA ENDS
STACK SEGMENT STACK
DB 100 DUP(?)
STACK ENDS
CODE SEGMENT
	ASSUME CS:CODE,DS:DATA,SS:STACK
START:MOV AX,DATA
      MOV DS,AX
      MOV AX,STACK
      MOV SS,AX
MOV ADR_TAB,OFFSET ZHU8
MOV ADR_TAB+2,OFFSET ZHU16
MOV BX,OFFSET ADR_TAB
;mov si,offset ascbuf
;已经把地址传进来，下面转换成二进制数


CALL BIN8

CALL BIN16

EXIT:MOV AH,4CH
     INT 21H

BIN8 PROC NEAR

PUSH DX
PUSH CX
PUSH AX
MOV DI,[BX]
MOV DH,[DI] ;DH取得8位二进制数
MOV CX,8H ;计数用
LEA SI,ASCBUF
LOP1: ROL DH,1
     MOV AL,DH
     and al,1    
     ADD [SI],AL
     INC SI   
     LOOP LOP1

POP DX
POP CX
POP AX
     RET
BIN8 ENDP

BIN16 PROC NEAR
PUSH BX
PUSH DX
PUSH CX
PUSH AX
MOV DI,[BX+2] ;+1表示+一个字节
MOV DX,[DI]
MOV CX,10H ;计数用
LOP2: ROL DX,1

     MOV AX,DX 
     and aX,1   
     ADD [SI],AX
     INC SI   
     LOOP LOP2
POP BX
POP DX
POP CX
POP AX
     RET
BIN16 ENDP

CODE ENDS
END START
